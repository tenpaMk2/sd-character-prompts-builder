---
import Layout from "../layouts/Layout.astro";
import Category from "../components/Category.astro";
import { tabInfos, type TabKeys } from "../components/Tabs.astro";

const tabKey: TabKeys = `main`;
const tabName = tabInfos[tabKey].ja;
const layoutInfo = {
  tabKey,
  tabName,
  title: `Welcome to Astro. | ${tabName}`,
};
---

<Layout {...layoutInfo}>
  <Category
    name="目の色"
    prompts={[
      `aqua eyes`,
      `black eyes`,
      `blue eyes`,
      `brown eyes`,
      `green eyes`,
      `grey eyes`,
      `orange eyes`,
      `purple eyes`,
      `pink eyes`,
      `red eyes`,
      `white eyes`,
      `yellow eyes`,
    ]}
  />
  <Category name="目の形状" prompts={[`tsurime`, `tareme`]} />
  <Category name="眉毛" prompts={[`thick eyebrows`]} />
  <Category
    name="睫毛"
    prompts={[`eyelashes`, `long eyelashes`, `thick eyelashes`]}
  />
  <Category
    name="髪の長さ"
    prompts={[
      `short hair`,
      `medium hair`,
      `long hair`,
      `very long hair`,
      `absurdly long hair`,
    ]}
  />
  <Category
    name="髪型"
    prompts={[
      `bob cut`,
      `inverted bob`,
      `pixie cut`,
      `undercut`,
      `flipped hair`,
      `dreadlocks`,
      `hime cut`,
      `curly hair`,
      `drill hair`,
      `twin drills`,
      `hair flaps`,
      `messy hair`,
      `pointy hair`,
      `ringlets`,
      `straight hair`,
      `wavy hair`,
    ]}
  />
  <!-- <Category name="髪結び目">
    <PromptButton key="bow-shaped hair" />
  </Category> -->
  <pre>
    <code />
  </pre>
</Layout>

<script>
  import { promptState, prompts } from "../store";

  promptState.subscribe((promptState) => {
    const result = prompts
      .map((p) => {
        return promptState[p] ? `${p}, ` : ``;
      })
      .join(``);

    const code = document.querySelector(`code`)!;
    code.textContent = result;
  });
</script>

<style>
  div {
    padding: 1em;
    background-color: rgb(100% 100% 100% / 0.05);
    border-radius: 1rem;
    display: flex;
    flex-flow: row wrap;
    justify-content: center;
    gap: 1em;
  }

  pre {
    background-color: rgb(0% 0% 100% / 0.1);
    overflow: auto;
  }
  code {
  }
</style>
